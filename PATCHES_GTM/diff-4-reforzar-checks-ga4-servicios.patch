--- a/src/lib/services/googleAnalyticsService.ts
+++ b/src/lib/services/googleAnalyticsService.ts
@@ -35,7 +35,13 @@ class GoogleAnalyticsService {
   initialize(measurementId: string): void {
     if (typeof window === 'undefined' || this.initialized) return;
 
+    // Verificar si gtag ya existe (puede estar cargado vía GTM o layout)
+    if (typeof window !== 'undefined' && (window as any).gtag) {
+      this.measurementId = measurementId;
+      this.initialized = true;
+      return; // Ya está cargado, solo usar la instancia existente
+    }
+
     this.measurementId = measurementId;

--- a/src/components/AnalyticsProvider.tsx
+++ b/src/components/AnalyticsProvider.tsx
@@ -34,7 +34,7 @@ function AnalyticsTracker() {
     // Inicializar Google Analytics
     const gaId = process.env.NEXT_PUBLIC_GA_ID;
-    if (gaId && typeof window !== 'undefined' && !window.gtag) {
+    if (gaId && typeof window !== 'undefined' && !(window as any).gtag) {
       googleAnalyticsService.initialize(gaId);
     }
   }, []);

