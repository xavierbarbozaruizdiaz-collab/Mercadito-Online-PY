# Vercel Deployment Configuration
# ============================================

# Build Configuration
BUILD_COMMAND: npm run build
OUTPUT_DIRECTORY: .next
INSTALL_COMMAND: npm ci
NODE_VERSION: 20.x

# Environment Variables
NEXT_PUBLIC_SUPABASE_URL: https://hqdatzhliaordlsqtjea.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY: $NEXT_PUBLIC_SUPABASE_ANON_KEY
SUPABASE_SERVICE_ROLE_KEY: $SUPABASE_SERVICE_ROLE_KEY
NEXT_PUBLIC_APP_ENV: production
NEXT_PUBLIC_APP_URL: https://mercadito-online-py.vercel.app

# Functions Configuration
FUNCTIONS_REGIONS: ["iad1", "sfo1", "lhr1"]
MAX_DURATION: 30

# Headers Configuration
HEADERS:
  - source: "/(.*)"
    headers:
      - key: "X-Frame-Options"
        value: "DENY"
      - key: "X-Content-Type-Options"
        value: "nosniff"
      - key: "Referrer-Policy"
        value: "strict-origin-when-cross-origin"
      - key: "Permissions-Policy"
        value: "camera=(), microphone=(), geolocation=(), payment=()"

# Redirects Configuration
REDIRECTS:
  - source: "/admin"
    destination: "/admin/dashboard"
    permanent: false

# Rewrites Configuration
REWRITES:
  - source: "/api/health"
    destination: "/api/health/check"

# Cron Jobs (NOTA: Estos están en vercel.json, este archivo es solo documentación)
# CRON_JOBS:
#   - path: "/api/cron/backup-database"
#     schedule: "0 2 * * *"
#   - path: "/api/cron/close-auctions"
#     schedule: "*/5 * * * *"
